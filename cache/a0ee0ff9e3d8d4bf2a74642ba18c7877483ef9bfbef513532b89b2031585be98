{"children":[{"children":[],"uri":"https://www.notion.so/c60890ca56a84cd89b474ef26e4ea61b","type":"text","createdTime":1626959640000,"lastEditedTime":1626959640000,"title":[["Learning ansible engine is not big task, big task is how to implement playbook for different environment based on requirement."]]},{"children":[],"uri":"https://www.notion.so/460caf6f9ab347e988ab18b3c7fa22d4","type":"text","createdTime":1626959640000,"lastEditedTime":1626959640000,"title":[]},{"children":[],"uri":"https://www.notion.so/427471eaf6e54316a192d3a67c0becf4","type":"text","createdTime":1626959760000,"lastEditedTime":1626959760000,"title":[["Suppose we have 100 servers and we need to install wget and vim to all servers"]]},{"children":[],"uri":"https://www.notion.so/622a6b0916df455db700a286a024ed22","type":"text","createdTime":1626959940000,"lastEditedTime":1626959940000,"title":[["If we choose ansible, chef, puppet, salt or any diff tool we can complete task in 3 min."]]},{"children":[],"uri":"https://www.notion.so/c39ddef698c849318d659fe86e2b927f","type":"bulleted_list","createdTime":1626959940000,"lastEditedTime":1626960000000,"title":[["Ansible will execute task on all servers parallely. So it will only 3 mins of time for any number of servers."]]},{"children":[],"uri":"https://www.notion.so/c5fa8f486710414fa5e88551ea08a50b","type":"bulleted_list","createdTime":1626960060000,"lastEditedTime":1626960060000,"title":[["Playbook = Script to work with ansible"]]},{"children":[],"uri":"https://www.notion.so/e8292cc4702b4fcaaec5d82b66695a9a","type":"code","createdTime":1626960060000,"lastEditedTime":1626960120000,"title":[["- hosts: all\n\ttasks:\n\t- yum:\n\t\t\tname: wget\n\t\t\tstate: present\n\t- yum:\n\t\t\tname: vim\n\t\t\tstate: present"]],"language":"YAML","wrap":true},{"children":[{"children":[],"uri":"https://www.notion.so/e40641f600a94dbd93ebb0abce2c8ca1","type":"bulleted_list","createdTime":1626962940000,"lastEditedTime":1626962940000,"title":[["Configuration management"]]},{"children":[],"uri":"https://www.notion.so/de6031da24a04506b87a81b95750e089","type":"bulleted_list","createdTime":1626962940000,"lastEditedTime":1626962940000,"title":[["application deployment"]]},{"children":[],"uri":"https://www.notion.so/ea40cec99f3e45698befe1b033c27b7f","type":"bulleted_list","createdTime":1626962940000,"lastEditedTime":1626962940000,"title":[["task automation"]]},{"children":[],"uri":"https://www.notion.so/21602cdbb9b3401c8ff8a9e1c4370236","type":"bulleted_list","createdTime":1626962940000,"lastEditedTime":1626962940000,"title":[["IT orchestration"]]}],"uri":"https://www.notion.so/cf173dda40c54f1785048d00cd690aac","type":"bulleted_list","createdTime":1626962880000,"lastEditedTime":1626962940000,"title":[["Ansible will be helpful to perform:"]]},{"children":[],"uri":"https://www.notion.so/1cf072763d5f4b16a808f6b43ef34c03","type":"text","createdTime":1626962940000,"lastEditedTime":1626962940000,"title":[]},{"children":[],"uri":"https://www.notion.so/c2f25e443a8a44f4b1545d92cfc5194e","type":"text","createdTime":1626962940000,"lastEditedTime":1626962940000,"title":[["Ansible architecture"]]},{"children":[],"uri":"https://www.notion.so/b5c1b714e14b4188a44b3c92a00eb08b","type":"text","createdTime":1626963240000,"lastEditedTime":1626963240000,"title":[["Server which work with ansible called : Ansible Engine/Controller/Master"]]},{"children":[],"uri":"https://www.notion.so/4f329f901105443391f3997ed00025f4","type":"text","createdTime":1626963360000,"lastEditedTime":1626963360000,"title":[["File containing information about remote servers : Inventory file"]]},{"children":[],"uri":"https://www.notion.so/0dcc677d12e44a88baa4fa089a5cfadc","type":"text","createdTime":1626963360000,"lastEditedTime":1626963420000,"title":[["Passwords and other parameter containing file  : Ansible.cfg"]]},{"children":[],"uri":"https://www.notion.so/c0023a5711894d8f88acaba04e53e0ca","type":"text","createdTime":1626963420000,"lastEditedTime":1626963600000,"title":[["We connect to ansible nodes/ansible client"]]},{"children":[],"uri":"https://www.notion.so/711fdfdea6d34886a1f87a0293faa93a","type":"text","createdTime":1626962880000,"lastEditedTime":1626963480000,"title":[["Playbook/Ad-Hoc commands are implemented using modules"]]},{"children":[],"uri":"https://www.notion.so/e9f5b627bc304476943489be0ac467ed","type":"text","createdTime":1626962880000,"lastEditedTime":1626963480000,"title":[["Ansible uses SSH for operations"]]},{"children":[],"uri":"https://www.notion.so/69646422b72346a0a758ec699f79dddd","type":"text","createdTime":1626963540000,"lastEditedTime":1626963540000,"title":[["Ansible doesn't need anything installed in client side hence called agentless"]]},{"children":[],"uri":"https://www.notion.so/4428f970992a4d2ba90e853677354106","type":"text","createdTime":1626963600000,"lastEditedTime":1626963600000,"title":[]},{"children":[],"uri":"https://www.notion.so/0de5eaf376fe4db59aed8feacdf7ccae","type":"text","createdTime":1626963600000,"lastEditedTime":1626963600000,"title":[["Why ansible?"]]},{"children":[],"uri":"https://www.notion.so/82c2f2ec725745e48c9bfb2a777be9f3","type":"text","createdTime":1626963600000,"lastEditedTime":1626963600000,"title":[["Uses existing openssh"]]},{"children":[],"uri":"https://www.notion.so/d22e8ff9da934706bbccb154190844b2","type":"text","createdTime":1626963660000,"lastEditedTime":1626963660000,"title":[["Python/Yaml based syntax"]]},{"children":[],"uri":"https://www.notion.so/8cfdbded598b4418b0339eea74bcef49","type":"text","createdTime":1626962880000,"lastEditedTime":1626963720000,"title":[["Large number of ready to use modules for system management"]]},{"children":[],"uri":"https://www.notion.so/c088a2fb41ca4b768a9a9a79f6873e4d","type":"text","createdTime":1626963720000,"lastEditedTime":1626963720000,"title":[["Custom modules can be added if needed"]]},{"children":[],"uri":"https://www.notion.so/1e8bac99e5c347b38c64e6bff192d745","type":"text","createdTime":1626963780000,"lastEditedTime":1626963780000,"title":[]},{"children":[],"uri":"https://www.notion.so/90db8157b5ad4646be79d8a41e0b3e33","type":"text","createdTime":1626963780000,"lastEditedTime":1626963780000,"title":[["Work with ansible steps"]]},{"children":[],"uri":"https://www.notion.so/ee8b9155e97749c098976d20563ad55f","type":"bulleted_list","createdTime":1626963780000,"lastEditedTime":1626963780000,"title":[["Install ansible"]]},{"children":[],"uri":"https://www.notion.so/483da664be144f48b3f677c87f416d49","type":"bulleted_list","createdTime":1626963780000,"lastEditedTime":1626963840000,"title":[["configure ansible "]]},{"children":[],"uri":"https://www.notion.so/74e8c6876577427a98f4be231f7acb47","type":"text","createdTime":1626963840000,"lastEditedTime":1626963840000,"title":[]},{"children":[],"uri":"https://www.notion.so/bf99758dac0b4ce4bf49afd26b947510","type":"text","createdTime":1626959580000,"lastEditedTime":1626964140000,"title":[["Windows isn't supported for control node"]]},{"children":[],"uri":"https://www.notion.so/cc7049b329e540af9a9bbfc472108d29","type":"text","createdTime":1626964380000,"lastEditedTime":1626964380000,"title":[["Install in cent-os"]]},{"children":[],"uri":"https://www.notion.so/33136c6566dd4c7da843e06bac33126b","type":"text","createdTime":1626964380000,"lastEditedTime":1626964380000,"title":[["yum install ansible",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/baa36807e46147ba95f29a703d2cc2a9","type":"text","createdTime":1626964380000,"lastEditedTime":1626964500000,"title":[[" If you install ansible with pip you won't get some important details"]]},{"children":[],"uri":"https://www.notion.so/66a5d3c3e72447a39d044f77f7b45f3f","type":"text","createdTime":1626964620000,"lastEditedTime":1626964620000,"title":[]},{"children":[],"uri":"https://www.notion.so/3f137f3bad56456e93ba54f4a82f76b3","type":"text","createdTime":1626964500000,"lastEditedTime":1626964680000,"title":[["Create two ec2 instances on aws"]]},{"children":[],"uri":"https://www.notion.so/cabc42d703d44e33b1e0cfe6e3e74e0c","type":"text","createdTime":1626964740000,"lastEditedTime":1626965280000,"title":[]},{"children":[],"uri":"https://www.notion.so/56fa249c66304730937658557932d869","type":"text","createdTime":1626964740000,"lastEditedTime":1626965340000,"title":[["select Managed node here in my case centos 7 on virtualbox\nProvide manage nodes IP/FQDN in inventory file on Ansible Engine"]]},{"children":[],"uri":"https://www.notion.so/e914a407fb88479aa9e4e2d386240eb0","type":"text","createdTime":1626965340000,"lastEditedTime":1626965340000,"title":[["Test configuration by running : "],["ansible all -m ping",[["c",null]]],[" "]]},{"children":[],"uri":"https://www.notion.so/a22605fa80bf4a09b67ea690f811d76e","type":"text","createdTime":1626965460000,"lastEditedTime":1626965460000,"title":[]},{"children":[],"uri":"https://www.notion.so/8ccb96fe70a34d5e8d5b915d731be9dc","type":"heading","createdTime":1626965460000,"lastEditedTime":1626965520000,"title":[["Steps for Passwordless Authentication"]],"depth":2},{"children":[],"uri":"https://www.notion.so/467d8f66adf84390958cab4dd4bfe430","type":"bulleted_list","createdTime":1626965520000,"lastEditedTime":1626965640000,"title":[["Here create user "],["ansadmin ",[["h","purple"]]],["across all server to avoid confusion (real-time practice), in some organization they create extra user or sometime you use root and provide some passwords."]]},{"children":[],"uri":"https://www.notion.so/68de9d3f6feb4d0085d835bead0ae9f9","type":"code","createdTime":1626965640000,"lastEditedTime":1626965820000,"title":[["sudo su -\nuseradd ansadmin\npasswd ansadmin\n# Add user in Ansible Master and Ansible Node"]],"language":"YAML","wrap":true},{"children":[],"uri":"https://www.notion.so/abfa0d96fd514c22b66cd9a2670b507a","type":"bulleted_list","createdTime":1626965820000,"lastEditedTime":1626965880000,"title":[["Provide root privileges to all ansadmin users on all servers."]]},{"children":[],"uri":"https://www.notion.so/dc4a40a1cafe4de284711916cf615968","type":"code","createdTime":1626965880000,"lastEditedTime":1626965940000,"title":[["visudo OR /etc/sudoers.d\nAdd\nansadmin      ALL=(ALL)    NOPASSWD: ALL"]],"language":"YAML","wrap":true},{"children":[],"uri":"https://www.notion.so/3d5c488b75f042d3a95e04d21de90a10","type":"bulleted_list","createdTime":1626965820000,"lastEditedTime":1626966120000,"title":[["Make sure that PasswordAuthentication "],["Yes",[["b",null]]],[" in all servers under "],["/etc/ssh/sshd_config",[["h","purple"]]],[" file and restart sshd server "],["service ssh restart",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/434347195d4b4dccabbf43322b3ea31f","type":"bulleted_list","createdTime":1626966120000,"lastEditedTime":1626978840000,"title":[["Generate ssh-keys using "],["ssh-keygen",[["h","purple"]]],[" command from ansadmin"]]},{"children":[],"uri":"https://www.notion.so/5f44355648ff4983ac3be679d2311bf5","type":"code","createdTime":1626978900000,"lastEditedTime":1626979080000,"title":[["sudo su ansadmin\nssh-keygen          (enter.. enter..)\nssh-copy-id <public_ipv4>\n\n# you can ssh using \nssh <ipv4>\n# repeat same for other ansible nodes in local server\nssh-copy-id <public_ipv4>"]],"language":"YAML","wrap":true},{"children":[],"uri":"https://www.notion.so/dec7f4b125274500a9c2cedc4a6cd67d","type":"bulleted_list","createdTime":1626965820000,"lastEditedTime":1626979320000,"title":[["Update inventory with IPs. "],["/etc/ansible/hosts",[["c",null]]],["  "]]},{"children":[],"uri":"https://www.notion.so/7613ec1768014f2cac5d014aadfd3876","type":"text","createdTime":1626979320000,"lastEditedTime":1626979320000,"title":[["For ping if you get pong then it worked perfectly"]]},{"children":[],"uri":"https://www.notion.so/d18bdbd2571340dfb7a95b790196d7c7","type":"text","createdTime":1626982020000,"lastEditedTime":1626982080000,"title":[["If all your servers are hosted on cloud then you can use private IP."]]},{"children":[],"uri":"https://www.notion.so/355edb5ca5404e4aad9cabb24d8113f2","type":"text","createdTime":1626982200000,"lastEditedTime":1626982200000,"title":[]},{"children":[],"uri":"https://www.notion.so/4b65afea97e14091983be8cb06196511","type":"heading","createdTime":1626982080000,"lastEditedTime":1626982200000,"title":[["Create backup of ansible config : "],["ansible.cfg_bkp",[["c",null]]]],"depth":3},{"children":[],"uri":"https://www.notion.so/81ce69d66414413098bcb8285a04de53","type":"text","createdTime":1626982320000,"lastEditedTime":1626982320000,"title":[]},{"children":[],"uri":"https://www.notion.so/8a294aa9f3e0429ebbee51383f2b13d7","type":"text","createdTime":1626982200000,"lastEditedTime":1626982380000,"title":[["Host key checking is parameter and for using ansible make sure to disable it."]]},{"children":[],"uri":"https://www.notion.so/fbbec42c769648a6aa0a5c043d9dfe12","type":"text","createdTime":1626982380000,"lastEditedTime":1626982380000,"title":[]},{"children":[],"uri":"https://www.notion.so/f7a0b77528054f4482e2e87f75941ce0","type":"text","createdTime":1626982380000,"lastEditedTime":1626982380000,"title":[["Whenever you working with ansible in real world, create own directory for ansible instead of working in "],["/etc/ansible ",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/d452e828a34548aaac0d30bc03229db6","type":"code","createdTime":1626982380000,"lastEditedTime":1626982500000,"title":[["# for exmaple\nmkdir my_ansible_prod\n# recursively copy all files\nsudo cp -r /etc/ansible/* my_ansible_prod\nsudo chown -R ansadmin *"]],"language":"YAML","wrap":true},{"children":[],"uri":"https://www.notion.so/c5d58ea6b52840539eca2b25a7e0a256","type":"text","createdTime":1626965820000,"lastEditedTime":1626965820000,"title":[]},{"children":[],"uri":"https://www.notion.so/9b93cd925df64e719146c8c94384081a","type":"heading","createdTime":1626965820000,"lastEditedTime":1626982620000,"title":[["Disable Host Key Checking "]],"depth":2},{"children":[],"uri":"https://www.notion.so/fb18ff1dac9c4355975636fce958cedf","type":"code","createdTime":1626982620000,"lastEditedTime":1626982860000,"title":[["# for temporary purpose\nexport ANSIBLE_HOST_KEY_CHECKING=False\n# Permanent soltn\nIn ansible.cfg file write\nhost_key_checking = False"]],"language":"YAML","wrap":true},{"children":[],"uri":"https://www.notion.so/e513f0fd73144ff08b2be95375a40a0f","type":"text","createdTime":1626982620000,"lastEditedTime":1626983640000,"title":[["If you want to work with only one server give ipv4 name of that server but make sure that IP must be in your inventory file."]]},{"children":[],"uri":"https://www.notion.so/fe06505eeba040cab87309a775a3be1b","type":"code","createdTime":1626983640000,"lastEditedTime":1626983700000,"title":[["ansible <ipv4> -m ping\n# to work with two server\nansible <ipv4_1>:<ipv4_2>:etc -m ping "]],"language":"YAML","wrap":true},{"children":[],"uri":"https://www.notion.so/b30c159a807e4bc09ebfcc7faea33de0","type":"text","createdTime":1626983700000,"lastEditedTime":1626983820000,"title":[["https://youtu.be/n4XcN1SraJQ?list=PL2qzCKTbjutIyQAe3GglWISLnLTQLGm7e&t=452",[["a","https://youtu.be/n4XcN1SraJQ?list=PL2qzCKTbjutIyQAe3GglWISLnLTQLGm7e&t=452"]]]]}],"uri":"https://www.notion.so/5ec827d5832f4657bc824226ec8e8c80","type":"page","createdTime":1623267960000,"lastEditedTime":1626983820000,"title":[["Automation with Ansible Playbooks"]],"fullWidth":false,"coverPosition":1,"properties":{}}