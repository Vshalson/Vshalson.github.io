{"children":[{"children":[],"uri":"https://www.notion.so/57e419184ce74b15b5fced8b7faa962e","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["Learning ansible engine is not big task, big task is how to implement playbook for different environment based on requirement."]]},{"children":[],"uri":"https://www.notion.so/aebf4a9e808d4608bd7d0f6ebacfd059","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[]},{"children":[],"uri":"https://www.notion.so/d956c6474eb44564b43c81aba77ae50e","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["Suppose we have 100 servers and we need to install wget and vim to all servers"]]},{"children":[],"uri":"https://www.notion.so/676d8f2428fa4c2c974b423aeba4bd08","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["If we choose ansible, chef, puppet, salt or any diff tool we can complete task in 3 min."]]},{"children":[],"uri":"https://www.notion.so/f6cad3b802c8452db324ca183f4f3150","type":"bulleted_list","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["Ansible will execute task on all servers parallely. So it will only 3 mins of time for any number of servers."]]},{"children":[],"uri":"https://www.notion.so/bbadb10de41246a88dd76647846fc2b2","type":"bulleted_list","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["Playbook = Script to work with ansible"]]},{"children":[],"uri":"https://www.notion.so/72e78edb885a4b2abf454796912e1704","type":"code","createdTime":1629571366165,"lastEditedTime":1629571366165,"title":[["- hosts: all\n\ttasks:\n\t- yum:\n\t\t\tname: wget\n\t\t\tstate: present\n\t- yum:\n\t\t\tname: vim\n\t\t\tstate: present"]],"language":"YAML","wrap":true},{"children":[{"children":[],"uri":"https://www.notion.so/9c400259a74742b382a2a3e1390760a2","type":"bulleted_list","createdTime":1629571368551,"lastEditedTime":1629571368551,"title":[["Configuration management"]]},{"children":[],"uri":"https://www.notion.so/2d828221204946379607a5ba1fe31416","type":"bulleted_list","createdTime":1629571368551,"lastEditedTime":1629571368551,"title":[["application deployment"]]},{"children":[],"uri":"https://www.notion.so/24977ceb93ef4f069f238143d8798f95","type":"bulleted_list","createdTime":1629571368551,"lastEditedTime":1629571368551,"title":[["task automation"]]},{"children":[],"uri":"https://www.notion.so/3318ee0ceec64d47a725e84263001a72","type":"bulleted_list","createdTime":1629571368551,"lastEditedTime":1629571368551,"title":[["IT orchestration"]]}],"uri":"https://www.notion.so/6fb93e60c127496391711684503ac4f3","type":"bulleted_list","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["Ansible will be helpful to perform:"]]},{"children":[],"uri":"https://www.notion.so/ba67a9a7b4084968900b8e56fe7b07a3","type":"text","createdTime":1629571366162,"lastEditedTime":1629571366162,"title":[]},{"children":[],"uri":"https://www.notion.so/dcd3efd66168442287a993e228894420","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["Ansible architecture"]]},{"children":[],"uri":"https://www.notion.so/e2cfb98baba94c798bde56b9884cab91","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["Server which work with ansible called : Ansible Engine/Controller/Master"]]},{"children":[],"uri":"https://www.notion.so/df16e7028a464c38b28f0bab2699de44","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["File containing information about remote servers : Inventory file"]]},{"children":[],"uri":"https://www.notion.so/d5035664cc2f44219ae0a9c28a1902af","type":"text","createdTime":1629571366162,"lastEditedTime":1629571366162,"title":[["Passwords and other parameter containing file  : Ansible.cfg"]]},{"children":[],"uri":"https://www.notion.so/23a7d32b7aa44ba185540aa2a38f1a47","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["We connect to ansible nodes/ansible client"]]},{"children":[],"uri":"https://www.notion.so/8cb4688da1114f43aea89142f2dbeb3f","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["Playbook/Ad-Hoc commands are implemented using modules"]]},{"children":[],"uri":"https://www.notion.so/57eada510cb440eda970faad594638fe","type":"text","createdTime":1629571366165,"lastEditedTime":1629571366165,"title":[["Ansible uses SSH for operations"]]},{"children":[],"uri":"https://www.notion.so/e0fb2379fcd4485ab7ae767d578fd9dd","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["Ansible doesn't need anything installed in client side hence called agentless"]]},{"children":[],"uri":"https://www.notion.so/f1e905c588fb4d9fbe0c844f2b57f808","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[]},{"children":[],"uri":"https://www.notion.so/dcd762edf32d42279c0d90107ca59c54","type":"text","createdTime":1629571366162,"lastEditedTime":1629571366162,"title":[["Why ansible?"]]},{"children":[],"uri":"https://www.notion.so/17bd220440084ab0856954943155d58a","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["Uses existing openssh"]]},{"children":[],"uri":"https://www.notion.so/a7d42c33cbe442b3af433fda810ff0ac","type":"text","createdTime":1629571366165,"lastEditedTime":1629571366165,"title":[["Python/Yaml based syntax"]]},{"children":[],"uri":"https://www.notion.so/2f2a67586e0f4e338893aa0d9d9d830d","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["Large number of ready to use modules for system management"]]},{"children":[],"uri":"https://www.notion.so/5758ac815d5b4eeb9e7eb9ee3b008ee3","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["Custom modules can be added if needed"]]},{"children":[],"uri":"https://www.notion.so/7479c739760c47b99ce46497b153a856","type":"text","createdTime":1629571366162,"lastEditedTime":1629571366162,"title":[]},{"children":[],"uri":"https://www.notion.so/bdb7680946a4457c882742bbf25895ac","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["Work with ansible steps"]]},{"children":[],"uri":"https://www.notion.so/20ae0a73aaaf4354ab6fed93b49bdae2","type":"bulleted_list","createdTime":1629571366166,"lastEditedTime":1629571366166,"title":[["Install ansible"]]},{"children":[],"uri":"https://www.notion.so/8d46bc8003374759a0e6295291e66cbb","type":"bulleted_list","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["configure ansible "]]},{"children":[],"uri":"https://www.notion.so/5cb12ed55d1542f0839135dc85abb46c","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[]},{"children":[],"uri":"https://www.notion.so/64c2bab5ed124c4eb40a85ded182a570","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["Windows isn't supported for control node"]]},{"children":[],"uri":"https://www.notion.so/f0e314f6131147a0b4418b70de46bdd7","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["Install in cent-os"]]},{"children":[],"uri":"https://www.notion.so/c19b5fb7b07340ce97f01ac82527a3ec","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["yum install ansible",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/ab1389bae72943adbcbba2083083607d","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[[" If you install ansible with pip you won't get some important details"]]},{"children":[],"uri":"https://www.notion.so/936af123b32141c290567047f8f74d66","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[]},{"children":[],"uri":"https://www.notion.so/0b726262e3ff45a1960f1b1bf3156fd4","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["Create two ec2 instances on aws"]]},{"children":[],"uri":"https://www.notion.so/4f41c56f36864e138ad2b52a6b1056d1","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[]},{"children":[],"uri":"https://www.notion.so/bd69c50b27d346478a4da503a1426ee9","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["select Managed node here in my case centos 7 on virtualbox\nProvide manage nodes IP/FQDN in inventory file on Ansible Engine"]]},{"children":[],"uri":"https://www.notion.so/8ecab58ab5e0437694db86725a43b666","type":"text","createdTime":1629571366165,"lastEditedTime":1629571366165,"title":[["Test configuration by running : "],["ansible all -m ping",[["c",null]]],[" "]]},{"children":[],"uri":"https://www.notion.so/e0493ce8214040c2a184c0ca0b521f82","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[]},{"children":[],"uri":"https://www.notion.so/8489beaa2c274b8e9e566ae2bbd43eb9","type":"heading","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["Steps for Passwordless Authentication"]],"depth":2},{"children":[],"uri":"https://www.notion.so/a2aae4cf45684cdaa6a28042cdd5b539","type":"bulleted_list","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["Here create user "],["ansadmin ",[["h","purple"]]],["across all server to avoid confusion (real-time practice), in some organization they create extra user or sometime you use root and provide some passwords."]]},{"children":[],"uri":"https://www.notion.so/03f0fcc5b00b4e92ba1858edbb774f9e","type":"code","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["sudo su -\nuseradd ansadmin\npasswd ansadmin\n# Add user in Ansible Master and Ansible Node"]],"language":"YAML","wrap":true},{"children":[],"uri":"https://www.notion.so/127321da300143c686d2b4ed4848ddd2","type":"bulleted_list","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["Provide root privileges to all ansadmin users on all servers."]]},{"children":[],"uri":"https://www.notion.so/72c3880cf1ba4024a51ea0f36a50cb0b","type":"code","createdTime":1629571366165,"lastEditedTime":1629571366165,"title":[["visudo OR /etc/sudoers.d\nAdd\nansadmin      ALL=(ALL)    NOPASSWD: ALL"]],"language":"YAML","wrap":true},{"children":[],"uri":"https://www.notion.so/131c3158e4a549439d799b3a5d486ed9","type":"bulleted_list","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["Make sure that PasswordAuthentication "],["Yes",[["b",null]]],[" in all servers under "],["/etc/ssh/sshd_config",[["h","purple"]]],[" file and restart sshd server "],["service ssh restart",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/3bb1a3d3143d4057959729a72a6c9b80","type":"bulleted_list","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["Generate ssh-keys using "],["ssh-keygen",[["h","purple"]]],[" command from ansadmin"]]},{"children":[],"uri":"https://www.notion.so/63e59c81d9504daba38b03359937d5a3","type":"code","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["sudo su ansadmin\nssh-keygen          (enter.. enter..)\nssh-copy-id <public_ipv4>\n\n# you can ssh using \nssh <ipv4>\n# repeat same for other ansible nodes in local server\nssh-copy-id <public_ipv4>"]],"language":"YAML","wrap":true},{"children":[],"uri":"https://www.notion.so/b39256b72ca6426d82533ab6a64bd8d7","type":"bulleted_list","createdTime":1629571366165,"lastEditedTime":1629571366165,"title":[["Update inventory with IPs. "],["/etc/ansible/hosts",[["c",null]]],["  "]]},{"children":[],"uri":"https://www.notion.so/533fc560b2e5458dab7185da76b27941","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["For ping if you get pong then it worked perfectly"]]},{"children":[],"uri":"https://www.notion.so/605d207c4f584916b6c292bfcc9d1423","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["If all your servers are hosted on cloud then you can use private IP."]]},{"children":[],"uri":"https://www.notion.so/0fd75b636c034232bea2b29bda729668","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[]},{"children":[],"uri":"https://www.notion.so/46990a4e74e94a149db57c01bf6a139d","type":"heading","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["Create backup of ansible config : "],["ansible.cfg_bkp",[["c",null]]]],"depth":3},{"children":[],"uri":"https://www.notion.so/156b560827664d3e8d49fd0c814541f2","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[]},{"children":[],"uri":"https://www.notion.so/015529873afd4def9994527d56449609","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["Host key checking is parameter and for using ansible make sure to disable it."]]},{"children":[],"uri":"https://www.notion.so/a8fb529b2211471abb181745e87ee5ca","type":"text","createdTime":1629571366166,"lastEditedTime":1629571366166,"title":[]},{"children":[],"uri":"https://www.notion.so/0fbf27725eae4162b98891e58c42276a","type":"text","createdTime":1629571366166,"lastEditedTime":1629571366166,"title":[["Whenever you working with ansible in real world, create own directory for ansible instead of working in "],["/etc/ansible ",[["c",null]]]]},{"children":[],"uri":"https://www.notion.so/8a284b16471c4f818ae52a65a7c121fe","type":"code","createdTime":1629571366165,"lastEditedTime":1629571366165,"title":[["# for exmaple\nmkdir my_ansible_prod\n# recursively copy all files\nsudo cp -r /etc/ansible/* my_ansible_prod\nsudo chown -R ansadmin *"]],"language":"YAML","wrap":true},{"children":[],"uri":"https://www.notion.so/9c4543704fe94127b4301cc9d3256e8e","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[]},{"children":[],"uri":"https://www.notion.so/c9fe0db5f96a4794afb4bc3f3fed9b5b","type":"heading","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["Disable Host Key Checking "]],"depth":2},{"children":[],"uri":"https://www.notion.so/321cc433ad63444ba6bfb1f6b003fc32","type":"code","createdTime":1629571366166,"lastEditedTime":1629571366166,"title":[["# for temporary purpose\nexport ANSIBLE_HOST_KEY_CHECKING=False\n# Permanent soltn\nIn ansible.cfg file write\nhost_key_checking = False"]],"language":"YAML","wrap":true},{"children":[],"uri":"https://www.notion.so/9e05114b24704c79bdaa9c84b767fcbf","type":"text","createdTime":1629571366165,"lastEditedTime":1629571366165,"title":[["If you want to work with only one server give ipv4 name of that server but make sure that IP must be in your inventory file."]]},{"children":[],"uri":"https://www.notion.so/0a3938407a0e4de28b4419ee1d2d7d71","type":"code","createdTime":1629571366166,"lastEditedTime":1629571366166,"title":[["ansible <ipv4> -m ping\n# to work with two server\nansible <ipv4_1>:<ipv4_2>:etc -m ping "]],"language":"YAML","wrap":true},{"children":[],"uri":"https://www.notion.so/e491a21736c844e8a9d777c686a91b8b","type":"text","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[]},{"children":[],"uri":"https://www.notion.so/7ba82ee7edc443299d357622bfd65ac0","type":"heading","createdTime":1629571366164,"lastEditedTime":1629571366164,"title":[["[Following] "]],"depth":2},{"children":[],"uri":"https://www.notion.so/15d3eb27be8142c2b7d8339039aa2ccd","type":"text","createdTime":1629571366165,"lastEditedTime":1629571366165,"title":[["Running at "],["https://youtu.be/n4XcN1SraJQ?list=PL2qzCKTbjutIyQAe3GglWISLnLTQLGm7e&t=452",[["a","https://youtu.be/n4XcN1SraJQ?list=PL2qzCKTbjutIyQAe3GglWISLnLTQLGm7e&t=452"]]]]},{"children":[],"uri":"https://www.notion.so/1e9e6e1dba4a4bf8ba3c0cd52f4d2026","type":"text","createdTime":1629571366163,"lastEditedTime":1629571366163,"title":[["https://docs.ansible.com/ansible/latest/user_guide/intro_getting_started.html",[["a","https://docs.ansible.com/ansible/latest/user_guide/intro_getting_started.html"]]],[" "]]},{"children":[],"uri":"https://www.notion.so/df25aa90cc2c42978d0740fb052dbfdb","type":"text","createdTime":1629571366162,"lastEditedTime":1629571366162,"title":[["https://serversforhackers.com/c/an-ansible-tutorial",[["a","https://serversforhackers.com/c/an-ansible-tutorial"]]],[" "]]}],"uri":"https://www.notion.so/5db5cd14c0b8405cbcffc33bb1528d0a","type":"page","createdTime":1629571366141,"lastEditedTime":1629572700000,"title":[["Automation with Ansible Playbooks"]],"icon":"🎇","fullWidth":false,"coverPosition":1,"properties":{"!`\"w":[["Yes"]],"98uZ":[["Learning ansible engine is not big task, big task is how to implement playbook for different environment based on requirement."]],":H`m":[["Yes"]],"{iD?":[["Automation"]],"|Ay0":[["post"]]}}