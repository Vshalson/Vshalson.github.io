<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Primary Meta Tags -->
  <title>Vizlog</title>
  <meta name="title" content="Vizlog">
  <meta name="description" content="Collection of unusual experiments and Ethical hacking notes">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://vshalson.tech/">
  <meta property="og:title" content="Vizlog">
  <meta property="og:description" content="Collection of unusual experiments and Ethical hacking notes">
  <meta property="og:image" content="">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="http://vshalson.tech/">
  <meta property="twitter:title" content="Vizlog">
  <meta property="twitter:description" content="Collection of unusual experiments and Ethical hacking notes">
  <meta property="twitter:image" content="">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Chrome, Firefox OS and Opera Status Bar Color -->
  <meta name="theme-color" content="#FFFFFF">
  <meta property="og:title" content="KataCoda Docker, Container, Builders and Registers">
    <meta name="description" content="Documenting Katacoda learnings">
  <meta property="og:description" content="Documenting Katacoda learnings">
    <!-- following viz change -->
    <meta property="og:type" content="blog">
  <title>KataCoda Docker, Container, Builders and Registers</title>
  <!-- Favicon -->
    <link rel="shortcut icon" href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb71620e3-c96f-4528-8d97-b288c190e643%2FRengoku_kyoujurou_(kimetsu_no_yaiba).jpeg?table=collection&id=aa0c780e-41b0-4b41-8887-fe12b1fd89a1">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
  <link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
  <link rel="stylesheet" type="text/css" href="css/notablog.css">
  <link rel="stylesheet" type="text/css" href="css/theme.css">
  <style>
    :root {
      font-size: 18px;
    }

    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
    <a href="index.html">
      <div class="Navbar__Btn"><span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb71620e3-c96f-4528-8d97-b288c190e643%2FRengoku_kyoujurou_(kimetsu_no_yaiba).jpeg?table=collection&id=aa0c780e-41b0-4b41-8887-fe12b1fd89a1"></span> <span>Home</span></div>
    </a>
                    <span class="Navbar__Delim">&centerdot;</span>
    <a href="about.html">
      <div class="Navbar__Btn"><span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb0876588-8392-4afd-88f2-2b79f1fa471b%2FTwitter.jpeg?table=block&id=b68b89e0-6eee-410d-b5c3-4ed36f459df0"></span> <span>You really don't know me?</span></div>
    </a>
                                                                          </nav>
  <header class="Header">
          <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
        <div class="Header__Icon"><span>⏱️</span></div>
        <h1 class="Header__Title">KataCoda Docker, Container, Builders and Registers</h1>
          </header>
      <article id="https://www.notion.so/1df4b6916d034aa6bdd79517b86d4351" class="PageRoot"><div id="https://www.notion.so/ea557e796b96461193d3e83d1755b208" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Container are Linux process.</span></span></p></div><pre id="https://www.notion.so/25fe723a0b804a51a2741193629d8cec" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token comment">#Launching Redis contianer</span>
docker run -d --name<span class="token operator">=</span>db redis:alpine
<span class="token comment">#Check  Process ID and Prent Process ID</span>
docker <span class="token function">top</span> db
<span class="token comment"># To list sub process use `Pstree`</span>
pstree -c -p -A <span class="token variable"><span class="token variable">$(</span>pgrep dockerd<span class="token variable">)</span></span></span></span></span></code></pre><div id="https://www.notion.so/c81e9d53cad54cf4ab1ad0cbd17d9344" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Configuration of each process define in /proc dir.</span></span></p></div><blockquote id="https://www.notion.so/a48494cfba4e4a51880f5c79f5742df4" class="ColorfulBlock ColorfulBlock--BgPink Quote"><span class="SemanticStringArray"><span class="SemanticString">Give me process ID, I&#x27;ll give you config dir.
- /proc</span></span></blockquote><pre id="https://www.notion.so/092ea34787304ae88df467e3d9fe17b3" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token assign-left variable">DBPID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>pgrep redis-server<span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> REDIS is <span class="token variable">$DBPID</span>
<span class="token comment">#here DBPID variable to get Process ID of running redis-server process</span>
<span class="token function">ls</span> /proc
And
<span class="token function">ls</span> /proc/<span class="token variable">$DBPID</span></span></span></span></code></pre><div id="https://www.notion.so/f4f9be40f2664671a64a48a2b2f5cbe9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/2939a80980d647e7ab64f1ddf7c23450" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Namespaces</strong></span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/1ffe795106bd41fc850344215b8b9488" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Is to limit what process can see and access certain parts of system</span></span></li><li id="https://www.notion.so/16b5eb188bde4b2c82d27ca76f379fe9" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">When container started, Docker runtime will create new namespaces to sandbox the process. By running the process in it&#x27;s own PID namespace.</span></span><div id="https://www.notion.so/b5759b36a0294c67b8a0bd319bb5d5a8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://en.wikipedia.org/wiki/Linux_namespaces">https://en.wikipedia.org/wiki/Linux_namespaces</a></span></span></p></div><div id="https://www.notion.so/f8a26e08f71a4ccd82e8d3af04a3c653" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Available Namespace:</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/8753ec505f3d4671b4fcde5aa92757bf" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Mount - mnt</span></span></li><li id="https://www.notion.so/31aa9f1f26f14cb297094bd4702409dd" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Network - net</span></span></li><li id="https://www.notion.so/e38c559e6ea942af8b6a9988f3f9be67" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Process ID - pid</span></span></li><li id="https://www.notion.so/2c424f56f90149f8b1b6a76a36a9ce6b" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Control groups - cgroup</span></span></li><li id="https://www.notion.so/89c76f3bd79c4057aca71995b84c56c2" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">UTS - hostnames</span></span></li></ul></li></ul><div id="https://www.notion.so/fa648c177fed4a8c98a072bc853122ae" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/fb77e0a773474fe8ae7f1e17da12a16c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Unshare  : to launch &quot;contained process&quot;, unshared from parent</strong></span></span></p><div class="Text__Children"><div id="https://www.notion.so/4fccf1a105ee4cb38e10c60d202f44b6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Without using docker runtime, process can still have it&#x27;s own namespace.</span></span></p></div><pre id="https://www.notion.so/81bd85c8d13a4b60ac2a88b10b9d0c2e" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>unshare --help</span></span></span></code></pre><div id="https://www.notion.so/b49218a640b14922a44f4cb09536a312" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Aha, run bash prompt process seprately</span></span></p></div><pre id="https://www.notion.so/b9eac858b7d140b093b271b4748cb0fa" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token function">sudo</span> unshare --fork --pid --mount-prac <span class="token function">bash</span>
<span class="token function">ps</span>
<span class="token punctuation">..</span> <span class="token builtin class-name">continue</span> experimenting your shit
<span class="token builtin class-name">exit</span></span></span></span></code></pre></div></div><div id="https://www.notion.so/26e20c8009084ef1a018420bebdead95" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">What happens when we share a namespace?</span></span></p></div><div id="https://www.notion.so/2edd48e7e19247a7944bd983459e5235" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">It allows for process to reused the same namespace,allow to view and interact.</span></span></p></div><div id="https://www.notion.so/781b8134e5be4c9ca607b75bf59c09e2" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2dcb17ac-42b2-4b4b-b662-73e1f8fac683%2FUntitled.png?width=658&amp;table=block&amp;id=781b8134-e5be-4c9c-a607-b75bf59c09e2"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2dcb17ac-42b2-4b4b-b662-73e1f8fac683%2FUntitled.png?width=658&amp;table=block&amp;id=781b8134-e5be-4c9c-a607-b75bf59c09e2" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/67f7bd8c4cad4b4bb7ae2b86e628f3e7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">NSEnter</strong></span><span class="SemanticString"> : to attach process to existing Namespace (used for debugging)</span></span></p></div><pre id="https://www.notion.so/ac243b517e5e49c6b79be8439de29b8d" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>nsenter --target <span class="token variable">$DBPID</span> --mount --uts --ipc --net --pid <span class="token function">ps</span> aux
<span class="token comment"># target process </span></span></span></span></code></pre><div id="https://www.notion.so/fbca75a70385416f98d59314e1282b1d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Using Docker, we can share namespaces </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">container:&lt;container_name&gt;</code></span><span class="SemanticString">    </span></span></p><div class="Text__Children"><div id="https://www.notion.so/7480cb1ebe0a4f1aa12c47cbcae5d2c5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Connect ngix to DB namespace</span></span></p></div><div id="https://www.notion.so/c6db3e01d9c84423ac30dbb87734fd23" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb3058904-70a3-44d3-b3b1-5ee34695baec%2FUntitled.png?width=659&amp;table=block&amp;id=c6db3e01-d9c8-4423-ac30-dbb87734fd23"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb3058904-70a3-44d3-b3b1-5ee34695baec%2FUntitled.png?width=659&amp;table=block&amp;id=c6db3e01-d9c8-4423-ac30-dbb87734fd23" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/a9c55683f7f74691be82b0e3b1a17e12" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Make variable, WEBPID </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">WEBPID=$(pgre nginx | tail -n1)</code></span></span></p></div><div id="https://www.notion.so/bddbfa5a05bd47ebae652b1d89041d4b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Namespace for both process points to same location.</span></span></p></div></div></div><div id="https://www.notion.so/a1fe06e75ce9458694baf7ff0464f911" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/e8d6fb62fd6a4aa7afd122c5e4e46ab0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Control groups (Cgroups) : limit amout of resources a process can consume.</span></span></p></div><pre id="https://www.notion.so/48a60addbc974ab69d9cfc15a594e5b0" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token comment"># CHeck cgroup mapping</span>
<span class="token function">cat</span> /proc/<span class="token variable">$DBPID</span>/cgroup
<span class="token comment"># Check CPU stats for process</span>
<span class="token function">cat</span> /sys/fs/cgroup/cpu,cpuacct/docker/<span class="token variable">$DBID</span>/cpuacct.stat
<span class="token comment"># CHeck CPU share limit</span>
<span class="token function">cat</span> /sys/fs/cgroup/cpu,cpuacct/docker/<span class="token variable">$DBID</span>/cpuacct.shares

Dcoker Cgroup stored @ /sys/fs/cgroup/memory/docker/</span></span></span></code></pre><div id="https://www.notion.so/7a10f867e121480790ed3622bcae8c6a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Docker can control memory limits via Cgroup settings.</span></span></p><div class="Text__Children"><div id="https://www.notion.so/622dc4432713415e890ede5a94b46b71" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">By default, container have no limit on memory.</span></span></p></div><pre id="https://www.notion.so/e28f692a9da340469a7fa3f576c6e576" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>docker stats <span class="token operator">&lt;</span>container_name<span class="token operator">></span> --no-stream</span></span></span></code></pre><div id="https://www.notion.so/ce340e46737f46f5a32fb5df295ee122" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">To set limits,</span></span></p></div><pre id="https://www.notion.so/f49cd74d24874d618c250892a9661e17" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token builtin class-name">echo</span> <span class="token number">8000000</span> <span class="token operator">></span> /sys/fs/cgroup/memory/docker/<span class="token variable">$DBID</span>/memory.limit_in_bytes
Here <span class="token number">8000000</span> <span class="token keyword">in</span> bytes to <span class="token number">7.629</span> mibibyte</span></span></span></code></pre></div></div><div id="https://www.notion.so/d70e0908cb864cf2a254493234080e4b" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F81178178-b50e-4e74-bea7-9758e0440277%2FUntitled.png?width=1222&amp;table=block&amp;id=d70e0908-cb86-4cf2-a254-493234080e4b"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F81178178-b50e-4e74-bea7-9758e0440277%2FUntitled.png?width=1222&amp;table=block&amp;id=d70e0908-cb86-4cf2-a254-493234080e4b" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/53b69f0a797f43468255ff2c8c07ecf6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/6fc53ca603b9489dbfa2b443dd7d6ee6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/badabeee85774d0881b937b8d70abf36" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">AppArmor</strong></span></span></p><div class="Text__Children"><div id="https://www.notion.so/ebae56f5b7524a94b5e06f3d1fbaa3a1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">All actions with Linux done via syscalls.</span></span></p></div><div id="https://www.notion.so/af1443f3b71b4f8eab8ff71b6fffe268" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Kernel has 330 syscalls to perform operations.</span></span></p></div><div id="https://www.notion.so/5203aa6d9e21404baf5b0e7be5ffb117" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">All applications use combination of syscalls to perform required operatn.</span></span></p></div><div id="https://www.notion.so/71e7c04ec4554d55a90f2502e5d0ca4e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">AppArmor is a application defined profile that describes which parts of the system a process can access.</strong></span></span></p></div></div></div><div id="https://www.notion.so/d6d011a05149417eb4b20f103939648e" class="Divider"></div><div id="https://www.notion.so/eda1c36052194c8f9fbf64149dc41931" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/9e74f9da43e744698fab38876f6ef042" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/9e74f9da43e744698fab38876f6ef042"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Scenario : 2</span></span></h2><div id="https://www.notion.so/6c02dd22deeb4e09a2c0f3a902a110f0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Container image: container image is tar file containing tar files. Each tar file is layer. Once all tar file extract into same location then you have container&#x27;s filesystem.</span></span></p></div><div id="https://www.notion.so/e69f734a09ec4a19a92f31582231df77" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Feed561f9-77bb-40b1-a924-87c2e7e233ca%2FUntitled.png?width=781&amp;table=block&amp;id=e69f734a-09ec-4a19-a92f-31582231df77"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Feed561f9-77bb-40b1-a924-87c2e7e233ca%2FUntitled.png?width=781&amp;table=block&amp;id=e69f734a-09ec-4a19-a92f-31582231df77" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/2db99bb0592a4dc0986f3607feeb28fd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Image also includes meta deta about version info and tag name.</span></span></p></div><div id="https://www.notion.so/74dae127db4042cbb28af33b766c27bc" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F7e70f63f-82b4-4e03-ad13-fed77eb792be%2FUntitled.png?width=747&amp;table=block&amp;id=74dae127-db40-42cb-b28a-f33b766c27bc"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F7e70f63f-82b4-4e03-ad13-fed77eb792be%2FUntitled.png?width=747&amp;table=block&amp;id=74dae127-db40-42cb-b28a-f33b766c27bc" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/2c66120aadb44e5687462e71d2452c83" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">And extract it further,</span></span></p></div><div id="https://www.notion.so/747bba209ee04816a771f2ec92524190" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fcfaef57e-3ad0-402f-807c-e2526adf0e3e%2FUntitled.png?width=819&amp;table=block&amp;id=747bba20-9ee0-4816-a771-f2ec92524190"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fcfaef57e-3ad0-402f-807c-e2526adf0e3e%2FUntitled.png?width=819&amp;table=block&amp;id=747bba20-9ee0-4816-a771-f2ec92524190" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/f92d24cf8d9d48f9b97c75050281a3e3" class="Divider"></div><div id="https://www.notion.so/96810433605e4e38b2152b08760c6570" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/ae7b1c7cac37446f849690344a02c6a0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Create image with dockerfile</strong></span></span></p><div class="Text__Children"><div id="https://www.notion.so/9f9c6d181c6544f2bc2230e4953ef1fe" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Import tar file to create an image from scratch.</span></span></p></div><div id="https://www.notion.so/06dbdc12682443f1972a99c10fa6f8b7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Here busybox (package with standard unix programs) as base.</span></span></p></div></div></div><pre id="https://www.notion.so/24d2fea663b44ed0893dd519815ea5f3" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token comment"># Download and extract busybox rootfs</span>
<span class="token function">curl</span> -LO https://raw.githubusercontent.com/moby/moby/a575b0b1384b2ba89b79cbd7e770fbeb616758b3/contrib/mkimage/busybox-static <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x busybox-static
<span class="token comment"># To download rootfs and main binaries </span>
./busybox-static busybox
<span class="token comment"># create a file</span>
<span class="token builtin class-name">echo</span> KatacodaPrivateBuild <span class="token operator">></span> busybox/release
<span class="token comment"># dir can into tar and import into docker as an image.</span>
<span class="token function">tar</span> -C busybox -c <span class="token builtin class-name">.</span> <span class="token operator">|</span> docker <span class="token function">import</span> - busybox
<span class="token comment"># launch as container, here to print release</span>
docker run busybox <span class="token function">cat</span> /release</span></span></span></code></pre><div id="https://www.notion.so/59bd6b49f75d455aaa49b8f424a07e9f" class="Divider"></div><div id="https://www.notion.so/f5f4c10fe30241b7893d46ec4a0fdda6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/1702dbced537469990c9276d0dfcf689" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/1702dbced537469990c9276d0dfcf689"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Docker foundations</span></span></h1><div id="https://www.notion.so/b3a3c4781d5a442bb63299e0cc92e09d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h3 id="https://www.notion.so/77a899acd337449c85e4eede689530dd" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/77a899acd337449c85e4eede689530dd"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Deploy first Docker Container</span></span></h3><pre id="https://www.notion.so/44bb2e7433d94bb5900dc6bfb246f160" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token comment"># search docker image</span>
docker search redis

<span class="token comment"># Run command in foreground</span>
docker run -d redis
<span class="token number">555555</span></span></span></span></code></pre></article>  <footer class="Footer">
        <div>&copy; Vizlog 2021</div>
        <div>&centerdot;</div>
        <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
            rel="noopener noreferrer">Notablog</a>.
        </div>
    </footer>
</body>

</html>
